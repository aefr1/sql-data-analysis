# SQL Анализ базы данных сервиса для чтения книг 

## Статус проекта
Завершен

## Описание проекта

В распоряжении имеется база данных с информацией о книгах, издательствах, авторах, а также пользовательские обзоры книг. Эти данные помогут сформулировать ценностное предложение для нового продукта компании, которая приобрела крупный сервис для чтения книг по подписке.  
Проект содержит решение 5-ти задач, поставленных заказчиком,  включая соответствующие SQL-запросы и аналитические выводы.  

## Цель проекта  

Предоставление аналитических данных для формулирования ценностного предложения для нового продукта.  

**Задачи:**  

Написать и выполнить с помощью удаленного подключения SQL-запросы для получения следующих данных:  

- подсчитать, сколько книг вышло после 1 января 2000 года;
- для каждой книги подсчить количество обзоров и среднюю оценку;
- определить издательство, которое выпустило наибольшее число книг толще 50 страниц, исключив таким образом из анализа брошюры;
- определить автора с самой высокой средней оценкой книг, только среди книг с 50 и более оценками;
- подсчитать среднее количество обзоров от пользователей, которые поставили больше 50 оценок.

## Итоги проекта  

**В рамках проекта настроено удаленное соединение, выполнены SQL-запросы и получены следующие данные:**  
<br> 1. В базе данных есть информация о 821 книге, среди вышедших с 1 января 2000 года. Это кол-во ничтожно мало для развития сервиса по подписке, поскольку в мире ежегодно выходит от 100 до 250 тысяч новых книг. К примеру, один из ведущих сервисов Bookmate имеет в своей библиотеке около 1,8 млн. книг на 13 языках.  
<br> 2. Для 1000 книг, имеющихся в базе данных, произведены необходимые расчеты - добавлено поле count_reviews с информацией о количестве обзоров и поле avg_rating со средними значениями оценок. Среди самых популярных книг по количеству обзоров, лидируют книги жанра фэнтези: Twilight и две книги о Гарри Поттере - Harry Potter and the Prisoner of Azkaban и Harry Potter and the Chamber of Secrets.  
<br> 3. Три издательства лидируют по части выпуска книг (более 50 страниц), это Penguin Books (42), Vintage	(31) и Grand Central Publishing	(25). Следует отметить, что издательство Penguin Books входит в конгломерат Penguin Random House, где они успешно развивают направление электронных библиотек и издают ежегодно около 15 тысяч наименований.  
<br> 4. Самую высокую оценку книг получила автор книг о Гарри Поттере Rowling, вместе с иллюстратором Mary GrandPré они смогли создать книги, которые не оставили равнодушными большую часть неаселения земного шара.  
<br> 5. На каждого пользователя, оценившего более 50 книг приходится в среднем по 24 отзыва.  
  
  
**На основе выполненного исследования можно сформировать следующие рекомендации для книжного сервиса:**  
- направить основные усилия на прирост базы данных с книгами;   

- в качестве наиболее привлекательного контента для пользователей являются книги жанра фэнтези, с качественным оформлением, расширять библиотеку следует в первую очередь такими изданиями;      

- провести переговоры с лидером издательского рынка Penguin Random House на предмет расширения сотрудничества;   

- известно, что обзоры являются хорошим мотивом для привлечения новых органических пользователей. Чтобы мотивировать действующую клиентскую базу на увеличения активности по написанию обзоров, стоит подумать о призах и подарках для наиболее активных. Такие вложения обойдутся значительно дешевле традиционной рекламы.

## Описание данных:  

**ER-диаграмма**

![ER-диаграмма](https://github.com/aefr1/sql-data-analysis/blob/main/sql_analysis_reading_service/erd_reading_service.png)

**Таблица `books`**

Содержит данные о книгах:

- `book_id` — идентификатор книги;
- `author_id` — идентификатор автора;
- `title` — название книги;
- `num_pages` — количество страниц;
- `publication_date` — дата публикации книги;
- `publisher_id` — идентификатор издателя.

**Таблица `authors`**

Содержит данные об авторах:

- `author_id` — идентификатор автора;
- `author` — имя автора.

**Таблица `publishers`**

Содержит данные об издательствах:

- `publisher_id` — идентификатор издательства;
- `publisher` — название издательства;

**Таблица `ratings`**

Содержит данные о пользовательских оценках книг:

- `rating_id` — идентификатор оценки;
- `book_id` — идентификатор книги;
- `username` — имя пользователя, оставившего оценку;
- `rating` — оценка книги.

**Таблица `reviews`**

Содержит данные о пользовательских обзорах на книги:

- `review_id` — идентификатор обзора;
- `book_id` — идентификатор книги;
- `username` — имя пользователя, написавшего обзор;
- `text` — текст обзора.


## Навыки и инструменты:

`настройка удаленного подключения`  
`работа с ER-диаграммой`  
`выгрузка данных`  
`выполнение срезов`  
`составление подзапросов`  
`агрегирующие функции`  
`группировка данных`  
`объединение таблиц`  
`использование временных таблиц`  
`использование оконных функций`  
  
`Python` `Pandas`  
`SQLAlchemy`  
`SQL` `PostgreSQL`  
